var xhttp=new XMLHttpRequest,contentLoader=document.getElementById("mainContent"),priceContainer=document.getElementById("priceContainer"),levelContainer=document.getElementById("levelContainer"),tagContainer=document.getElementById("tagContainer"),prices=[],levels=[],tags=[];function arrayPush(e,n){n.indexOf(e)<0&&n.push(e)}function renderItem(e){console.log(e);var n="";return n+='<div data-tags="'+e.tags.join(" ")+'">',n+="<p>Name: "+e.name+"</p>",n+="<p>Price: "+e.price+"</p>",n+='<img src="img/'+e.id+'.png">',n+="</div>"}function renderFilter(e){var n="";for(var t in e)n+='<a href="#">'+e[t]+"</a>";return n}xhttp.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e,n,t,r=JSON.parse(this.responseText),i="",o="",a="",s="";for(var l in r.potions){e=r.potions[l].price,n=r.potions[l].required_level,t=r.potions[l].tags,arrayPush(e,prices),arrayPush(n,levels);for(var p in t)arrayPush(t[p],tags);i+=renderItem(r.potions[l])}o+=renderFilter(prices),a+=renderFilter(levels),s+=renderFilter(tags),console.log(prices),console.log(levels),console.log(tags),contentLoader.innerHTML=i,priceContainer.innerHTML=o,levelContainer.innerHTML=a,tagContainer.innerHTML=s}},xhttp.open("GET","http://localhost:3000/api",!0),xhttp.send();